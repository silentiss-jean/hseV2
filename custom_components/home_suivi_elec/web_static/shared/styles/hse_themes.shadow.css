/*
HSE_DOC: custom_components/home_suivi_elec/docs/hse_themes_shadow_css.md
HSE_MAINTENANCE: If you add/remove theme keys or required variables, update the doc above.
*/

/* ════════════════════════════════════════════════════════════════════════════
   HSE THEMES — V4
   - Thèmes pilotés par :host([data-theme="..."])
   - Identité forte par thème (couleurs, gradients, ombres, fond dynamique)
   - Fournit toutes les variables attendues par les features et composants

   Notes:
   - Le manifest (customisation) utilise des keys: light/dark/ocean/forest/sunset/minimal/neon/aurora/neuro + ha
   - Ce fichier fournit donc exactement ces sélecteurs.
   ════════════════════════════════════════════════════════════════════════════ */

:host {
  --hse-radius-sm: 8px;
  --hse-radius-md: 12px;
  --hse-radius-lg: 18px;
  --hse-radius-xl: 26px;

  --hse-transition-fast: 120ms ease;
  --hse-transition-base: 180ms ease;
  --hse-transition-slow: 320ms ease;

  --hse-shadow-sm: 0 1px 2px rgba(0,0,0,.08);
  --hse-shadow-md: 0 10px 24px rgba(0,0,0,.14);
  --hse-shadow-lg: 0 18px 45px rgba(0,0,0,.20);
  --hse-shadow-glow: 0 0 22px rgba(124,58,237,.18);

  --hse-bg-dynamic-opacity: 0.55;
  --hse-font-tracking: 0.1px;

  /* Glass only (default none) */
  --hse-backdrop-filter: none;

  /* Badge */
  --hse-badge-radius: 999px;
  --hse-badge-padding: 2px 8px;
}

/* ────────────────────────────────────────────────────────────────────────────
   HOME ASSISTANT (follow HA theme)
   ──────────────────────────────────────────────────────────────────────────── */

:host([data-theme="ha"]) {
  /* Let HA decide light/dark; we don't set color-scheme on purpose */

  --hse-bg: var(--primary-background-color);
  --hse-bg-secondary: var(--secondary-background-color, var(--primary-background-color));
  --hse-surface: var(--card-background-color);
  --hse-surface-muted: color-mix(in srgb, var(--card-background-color) 92%, var(--primary-background-color) 8%);

  --hse-border: var(--divider-color);
  --hse-border-soft: color-mix(in srgb, var(--divider-color) 65%, transparent);
  --hse-border-strong: color-mix(in srgb, var(--divider-color) 92%, var(--primary-text-color) 8%);

  --hse-text: var(--primary-text-color);
  --hse-text-main: var(--primary-text-color);
  --hse-text-muted: var(--secondary-text-color);
  --hse-text-soft: color-mix(in srgb, var(--secondary-text-color) 85%, transparent);
  --hse-text-inverse: var(--text-primary-color, var(--primary-background-color));

  --hse-primary: var(--primary-color);
  --hse-primary-dark: var(--primary-color);

  --hse-accent: var(--accent-color, var(--primary-color));
  --hse-accent-hover: var(--accent-color, var(--primary-color));
  --hse-accent-soft: color-mix(in srgb, var(--accent-color, var(--primary-color)) 16%, transparent);

  --hse-info: var(--info-color, var(--primary-color));
  --hse-success: var(--success-color, #16a34a);
  --hse-warning: var(--warning-color, #f59e0b);
  --hse-error: var(--error-color, #ef4444);

  --hse-success-soft: color-mix(in srgb, var(--hse-success) 16%, transparent);
  --hse-warning-soft: color-mix(in srgb, var(--hse-warning) 16%, transparent);
  --hse-error-soft: color-mix(in srgb, var(--hse-error) 16%, transparent);
  --hse-info-soft: color-mix(in srgb, var(--hse-info) 16%, transparent);

  --hse-hover: color-mix(in srgb, var(--hse-primary) 12%, transparent);

  --hse-gradient-primary: linear-gradient(
    135deg,
    color-mix(in srgb, var(--hse-primary) 92%, transparent),
    color-mix(in srgb, var(--hse-accent) 88%, transparent)
  );

  --hse-gradient-header: linear-gradient(
    135deg,
    color-mix(in srgb, var(--hse-primary) 86%, transparent),
    color-mix(in srgb, var(--hse-accent) 82%, transparent)
  );

  --hse-gradient-info: linear-gradient(135deg, color-mix(in srgb, var(--hse-info) 18%, transparent), color-mix(in srgb, var(--hse-info) 8%, transparent));
  --hse-gradient-warning: linear-gradient(135deg, color-mix(in srgb, var(--hse-warning) 18%, transparent), color-mix(in srgb, var(--hse-warning) 8%, transparent));
  --hse-gradient-success: linear-gradient(135deg, color-mix(in srgb, var(--hse-success) 18%, transparent), color-mix(in srgb, var(--hse-success) 8%, transparent));
  --hse-gradient-danger: linear-gradient(135deg, color-mix(in srgb, var(--hse-error) 18%, transparent), color-mix(in srgb, var(--hse-error) 8%, transparent));

  --hse-on-accent: var(--text-primary-color, var(--primary-background-color));
  --hse-on-header: var(--text-primary-color, var(--primary-background-color));

  --hse-badge-bg: color-mix(in srgb, var(--card-background-color) 90%, var(--primary-background-color) 10%);
  --hse-badge-border: color-mix(in srgb, var(--divider-color) 80%, transparent);
  --hse-badge-fg: var(--primary-text-color);

  --hse-bg-dynamic:
    radial-gradient(900px 700px at 10% 10%, color-mix(in srgb, var(--hse-primary) 20%, transparent), transparent 60%),
    radial-gradient(900px 700px at 90% 20%, color-mix(in srgb, var(--hse-accent) 18%, transparent), transparent 60%),
    radial-gradient(900px 700px at 50% 95%, color-mix(in srgb, var(--hse-info) 16%, transparent), transparent 60%);
}

/* existing themes below (light/dark/ocean/...) */

/* ────────────────────────────────────────────────────────────────────────────
   LIGHT
   ──────────────────────────────────────────────────────────────────────────── */

:host([data-theme="light"]) {
  color-scheme: light;

  --hse-bg: #f7f9ff;
  --hse-bg-secondary: #eef2ff;
  --hse-surface: #ffffff;
  --hse-surface-muted: #f4f6ff;

  --hse-border: #e5e7eb;
  --hse-border-soft: #eef2f7;
  --hse-border-strong: #cbd5e1;

  --hse-text: #111827;
  --hse-text-main: var(--hse-text);
  --hse-text-muted: #4b5563;
  --hse-text-soft: #6b7280;
  --hse-text-inverse: #ffffff;

  --hse-primary: #2563eb;
  --hse-primary-dark: #1d4ed8;

  --hse-accent: #7c3aed;
  --hse-accent-hover: #6d28d9;
  --hse-accent-soft: rgba(124,58,237,0.12);

  --hse-info: #0284c7;
  --hse-info-dark: #0369a1;
  --hse-success: #16a34a;
  --hse-success-dark: #15803d;
  --hse-warning: #f59e0b;
  --hse-warning-dark: #b45309;
  --hse-error: #ef4444;
  --hse-error-dark: #dc2626;

  --hse-success-soft: rgba(22,163,74,0.12);
  --hse-warning-soft: rgba(245,158,11,0.16);
  --hse-error-soft: rgba(239,68,68,0.12);
  --hse-info-soft: rgba(2,132,199,0.12);

  --hse-hover: rgba(37,99,235,0.08);

  --hse-gradient-primary: linear-gradient(135deg, rgba(37,99,235,1), rgba(124,58,237,1));
  --hse-gradient-header: linear-gradient(135deg, rgba(37,99,235,0.95), rgba(14,165,233,0.85));
  --hse-gradient-info: linear-gradient(135deg, rgba(2,132,199,0.18), rgba(2,132,199,0.08));
  --hse-gradient-warning: linear-gradient(135deg, rgba(245,158,11,0.22), rgba(245,158,11,0.10));
  --hse-gradient-success: linear-gradient(135deg, rgba(22,163,74,0.22), rgba(22,163,74,0.10));
  --hse-gradient-danger: linear-gradient(135deg, rgba(239,68,68,0.22), rgba(239,68,68,0.10));

  --hse-on-accent: #ffffff;
  --hse-on-header: #ffffff;

  --hse-badge-bg: rgba(17,24,39,0.04);
  --hse-badge-border: rgba(17,24,39,0.10);
  --hse-badge-fg: var(--hse-text);

  --hse-bg-dynamic:
    radial-gradient(900px 700px at 10% 10%, rgba(37,99,235,0.18), transparent 60%),
    radial-gradient(900px 700px at 90% 20%, rgba(124,58,237,0.16), transparent 60%),
    radial-gradient(900px 700px at 50% 95%, rgba(2,132,199,0.14), transparent 60%);
}
